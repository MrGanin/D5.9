from *.models import * #условный импорт, соотвественно * название приложения

User.objects.create_user(username = 'author1')
User.objects.create_user(username = 'author2')
Author.objects.create(user_id = 1)
Author.objects.create(user_id = 2)
Category.objects.create(title = 'Обзорная')
Category.objects.create(title = 'Научная')
Category.objects.create(title = 'Аналитическая')
Category.objects.create(title = 'Публицистическая')
Post.objects.create(author_id = 1, it_news = True, title = 'title1', text = 'text1')
Post.objects.create(author_id = 2, title = 'title2', text = 'text2')
Post.objects.create(author_id = 1, title = 'title3', text = 'text3')
PostCategory.objects.create(post_id = 1, category_id = 1)
PostCategory.objects.create(post_id = 1, category_id = 3)
PostCategory.objects.create(post_id = 2, category_id = 2)
PostCategory.objects.create(post_id = 2, category_id = 4)
PostCategory.objects.create(post_id = 3, category_id = 1)
PostCategory.objects.create(post_id = 3, category_id = 4)
Comment.objects.create(post_id = 1, user_id = 1, text = 'Comment1')
Comment.objects.create(post_id = 2, user_id = 2, text = 'Comment2')
Comment.objects.create(post_id = 3, user_id = 1, text = 'Comment3')
Comment.objects.create(post_id = 4, user_id = 2, text = 'Comment4')

p = Post.objects.get(pk=1)
c = Comment.objects.get(pk=2)
c.like()
p.like()
c.like()
p.like()
c.like()
p.like()
c.like()
p.like()
c.like()
p.like()
p.dislike()
c.dislike()
a1 = Author.objects.get(pk=1)
a2 = Author.objects.get(pk=2)
a1.update_rating()
a2.update_rating()
Author.objects.all().order_by('-rating').values('pk', 'rating')
#Узнаем какая статья самая высокая по рейтингу
Post.objects.all().order_by('-rating').values('pk','rating','author_id')
username = User.objects.get(pk=1) 
bestpost = Post.objects.get(pk=1)
bestpost.date, username.username, bestpost.title, bestpost.preview()
Comment.objects.filter(post_id = 1).values('date', 'user_id','rating', 'text')

